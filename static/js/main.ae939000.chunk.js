(this["webpackJsonpmeraki-web"]=this["webpackJsonpmeraki-web"]||[]).push([[0],{134:function(e,t,a){e.exports=a(358)},202:function(e,t,a){},203:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},354:function(e,t,a){},355:function(e,t,a){},356:function(e,t,a){},357:function(e,t,a){},358:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),l=a.n(c),s=a(31),i=a(5),o=a(23),u=a(131),m="/",d="/login",E="/class",f="/course",p="/course/:courseId",b="/exercise/:exerciseId",v="/user",h="ON_USER_SIGN_INTENT",x="ON_USER_SIGN_INTENT_RESOLVED",g="ON_USER_SIGN_INTENT_REJECTED",O="ON_LOGOUT_INTENT",N=function(e){return{type:h,data:e}},j=function(e){return{type:x,data:e}},C=function(e){return{type:g,error:e}},_=function(){return{type:O}};var k=function(e){return function(t){return function(a){if(a.type===x){var n=t(a),r=e.getState().User;return localStorage.setItem("__AUTH__",JSON.stringify(r)),n}if(a.type===O){var c=t(a);return localStorage.removeItem("__AUTH__"),c}return t(a)}}},T=a(10),S=a.n(T),w=a(9),y=a(4),I=a(17),A=a.n(I),L="GET",D="POST",U="DELETE",R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=new Headers;if(!e)return a;var n={"Content-Type":"application/json",Authorization:e};return t?Object(y.a)(Object(y.a)({},n),t):n};var F=function(e,t){return A()({url:"".concat("https://api.merakilearn.org","/users/auth/google"),method:D,headers:R(t),data:{idToken:e.idToken,mode:"web"}})},G=S.a.mark(q),H=S.a.mark(B),Y=S.a.mark(M);function q(e){var t,a,n;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.data,r.next=3,Object(w.b)(F,t);case 3:if(200!==(a=r.sent).status){r.next=10;break}return n=Object(y.a)(Object(y.a)({},a.data),{},{isAuthenticated:!0}),r.next=8,Object(w.d)(j(n));case 8:r.next=12;break;case 10:return r.next=12,Object(w.d)(C(a));case 12:case"end":return r.stop()}}),G)}function B(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.location.pathname=d;case 2:case"end":return e.stop()}}),H)}function M(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.f)(h,q);case 2:return e.next=4,Object(w.f)(O,B);case 4:case"end":return e.stop()}}),Y)}var P="GET_CLASSES_INTENT",z="GET_CLASSES_INTENT_RESOLVED",V="GET_CLASSES_INTENT_REJECTED",J="GET_CREATE_CLASS_INTENT",Z="GET_CREATE_CLASS_INTENT_RESOLVED",W="GET_CREATE_CLASS_INTENT_REJECTED",X=function(e){return{type:P,data:e}},$=function(e){return{type:z,data:e}},K=function(e){return{type:V,error:e}},Q=function(e){return{type:J,data:e}},ee=function(e){return{type:Z,data:e}},te=function(e){return{type:W,error:e}},ae={UNAUTHORIZED:[401],FORBIDDEN:[403],OPERATION_FAILED:[400,404,500,502],SUCCESS:[200,201,202]},ne=S.a.mark((function e(t,a){var n,r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(w.e)((function(e){return e.User.data.token}));case 3:n=e.sent,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,Object(w.d)(_());case 10:return e.abrupt("return");case 11:return e.prev=11,e.next=14,Object(w.b)(t,a,n);case 14:if(r=e.sent,!ae.SUCCESS.includes(r.status)){e.next=17;break}return e.abrupt("return",r);case 17:e.next=31;break;case 19:if(e.prev=19,e.t1=e.catch(11),c=e.t1.response,!ae.OPERATION_FAILED.includes(c.status)){e.next=26;break}return e.abrupt("return",c);case 26:if(!ae.FORBIDDEN.includes(c.status)){e.next=30;break}return e.next=29,Object(w.d)(_());case 29:return e.abrupt("return",e.sent);case 30:return e.abrupt("return",{status:503,message:"Something went wrong"});case 31:case"end":return e.stop()}}),e,null,[[0,6],[11,19]])})),re=function(e,t){return A()({url:"".concat("https://api.merakilearn.org","/classes"),method:L,headers:R(t,{platform:"web"})})},ce=function(e,t){return A()({url:"".concat("https://api.merakilearn.org","/classes"),method:D,headers:R(t),data:Object(y.a)({},e)})},le=a(18),se=S.a.mark(ue),ie=S.a.mark(me),oe=S.a.mark(de);function ue(e){var t,a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,n.next=3,Object(w.b)(ne,ce,t);case 3:if(!(a=n.sent)||!ae.SUCCESS.includes(a.status)){n.next=10;break}return n.next=7,Object(w.d)(ee(a.data));case 7:le.a.success("You successfully created a class.",{position:le.a.POSITION.BOTTOM_RIGHT}),n.next=13;break;case 10:return n.next=12,Object(w.d)(te(a));case 12:le.a.error("Something went wrong with error status: ".concat(a.status," ").concat(a.data.message),{position:le.a.POSITION.BOTTOM_RIGHT});case 13:case"end":return n.stop()}}),se)}function me(e){var t,a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,n.next=3,Object(w.b)(ne,re,t);case 3:if(!(a=n.sent)||!ae.SUCCESS.includes(a.status)){n.next=9;break}return n.next=7,Object(w.d)($(a.data));case 7:n.next=11;break;case 9:return n.next=11,Object(w.d)(K(a));case 11:case"end":return n.stop()}}),ie)}function de(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.f)(P,me);case 2:return e.next=4,Object(w.f)(J,ue);case 4:case"end":return e.stop()}}),oe)}var Ee="GET_COURSES_INTENT",fe="GET_COURSES_INTENT_RESOLVED",pe="GET_COURSES_INTENT_REJECTED",be="GET_COURSE_CONTENT_INTENT",ve="GET_COURSE_CONTENT_INTENT_RESOLVED",he="GET_COURSE_CONTENT_INTENT_REJECTED",xe="UPDATE_SELECTED_EXERCISE",ge=function(e){return{type:Ee,data:e}},Oe=function(e){return{type:fe,data:e}},Ne=function(e){return{type:pe,error:e}},je=function(e){return{type:be,data:e}},Ce=function(e){return{type:ve,data:e}},_e=function(e){return{type:he,error:e}},ke=function(e){return{type:xe,data:e}},Te=a(7),Se=a.n(Te),we=function(e){var t=Se()(e,"course",{}).exercises;return{exerciseList:(void 0===t?[]:t).map((function(e){var t=null;return e.childExercises&&(t=e.childExercises.map((function(t){return"string"===typeof t.content&&(t.content=[{type:"markdown",value:e.content}]),{content:t.content,githubLink:t.github_link,id:t.id,name:t.name,slug:t.slug}}))),"string"===typeof e.content&&(e.content=[{type:"markdown",value:e.content}]),{content:e.content,githubLink:e.github_link,id:e.id,name:e.name,slug:e.slug,childExercises:t}}))}},ye=function(){return A()({url:"".concat("https://api.merakilearn.org","/courses"),method:L})},Ie=function(e){var t=e.courseId;return A()({url:"".concat("https://api.merakilearn.org","/courses/").concat(t,"/exercises"),method:L})},Ae=S.a.mark(Ue),Le=S.a.mark(Re),De=S.a.mark(Fe);function Ue(e){var t,a,n;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.data,r.next=3,Object(w.b)(ye,t);case 3:if(!(a=r.sent)||!ae.SUCCESS.includes(a.status)){r.next=10;break}return c=a.data,n={allCourses:c.map((function(e){return{id:e.id,name:e.name,logo:e.logo,description:e.short_description}}))},r.next=8,Object(w.d)(Oe(n));case 8:r.next=13;break;case 10:return r.next=12,Object(w.d)(Ne(a));case 12:alert("Something went wrong with error status: ".concat(a.status," ").concat(a.data.message));case 13:case"end":return r.stop()}var c}),Ae)}function Re(e){var t,a,n;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.data,r.next=3,Object(w.b)(Ie,t);case 3:if(!(a=r.sent)||!ae.SUCCESS.includes(a.status)){r.next=10;break}return n=we(a.data),r.next=8,Object(w.d)(Ce(n));case 8:r.next=13;break;case 10:return r.next=12,Object(w.d)(_e(a));case 12:alert("Something went wrong with error status: ".concat(a.status," ").concat(a.message));case 13:case"end":return r.stop()}}),Le)}function Fe(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.f)(Ee,Ue);case 2:return e.next=4,Object(w.f)(be,Re);case 4:case"end":return e.stop()}}),De)}var Ge=S.a.mark(He);function He(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)([Object(w.c)(M),Object(w.c)(de),Object(w.c)(Fe)]);case 2:case"end":return e.stop()}}),Ge)}var Ye=a(129),qe=a(122),Be="RESET_APP",Me={loading:!1,error:!1,data:null},Pe={loading:!1,error:!1,data:null,allClasses:{loading:!1,error:!1,data:null}},ze={loading:!1,error:!1,data:null,courseContent:{loading:!1,error:!1,data:null},selectedExercise:{exercise:null,parentExercise:null,index:null,subExerciseIndex:null}},Ve=Object(qe.a)(),Je=Object(o.c)({User:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(y.a)(Object(y.a)({},e),{},{loading:!0,error:!1,data:null});case x:return Object(y.a)(Object(y.a)({},e),{},{loading:!1,error:!1,data:t.data});case g:return Object(y.a)(Object(y.a)({},e),{},{loading:!1,error:t.error,data:null});default:return e}},Class:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(y.a)(Object(y.a)({},e),{},{allClasses:{loading:!0,error:!1,data:null}});case z:return Object(y.a)(Object(y.a)({},e),{},{allClasses:{loading:!1,error:!1,data:t.data}});case V:return Object(y.a)(Object(y.a)({},e),{},{allClasses:{loading:!1,error:t.error,data:null}});case J:return Object(y.a)(Object(y.a)({},e),{},{loading:!0,error:!1,data:null});case Z:return Object(y.a)(Object(y.a)({},e),{},{loading:!1,error:!1,data:t.data});case W:return Object(y.a)(Object(y.a)({},e),{},{loading:!1,error:t.error,data:null});default:return e}},Course:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return Object(y.a)(Object(y.a)({},e),{},{loading:!0,error:!1,data:null});case fe:return Object(y.a)(Object(y.a)({},e),{},{loading:!1,error:!1,data:t.data});case pe:return Object(y.a)(Object(y.a)({},e),{},{loading:!1,error:t.error,data:null});case be:return Object(y.a)(Object(y.a)({},e),{},{courseContent:{loading:!0,error:!1,data:null}});case ve:return Object(y.a)(Object(y.a)({},e),{},{courseContent:{loading:!1,error:!1,data:t.data}});case he:return Object(y.a)(Object(y.a)({},e),{},{courseContent:{loading:!1,error:t.error,data:null}});case xe:return Object(y.a)(Object(y.a)({},e),{},{selectedExercise:t.data});default:return e}},router:Object(Ye.a)(Ve)}),Ze=function(e,t){return t.type===Be&&(e=void 0),Je(e,t)},We=o.d,Xe=function(){var e=Object(u.a)(),t=Object(o.e)(Ze,function(){var e=localStorage.getItem("__AUTH__");if(!e)return{};try{return{User:JSON.parse(e)}}catch(t){return{}}}(),We(Object(o.a)(e,k)));return e.run(He),t},$e=(a(202),a(11)),Ke=a(132),Qe=function(e){var t=e.user,a=void 0===t?{}:t,n=e.component,c=Object(Ke.a)(e,["user","component"]);return r.a.createElement($e.b,Object.assign({},c,{render:function(e){return a&&a.isAuthenticated?r.a.createElement(n,e):r.a.createElement($e.a,{to:{pathname:d,state:{from:e.location}}})}}))},et=Object($e.i)(Object(i.c)((function(e){return{user:e.User.data}}))(Qe)),tt=a(123),at=a.n(tt);a(203);var nt=function(){var e=Object(i.d)(),t=Object(i.e)((function(e){return e.User})),a=t.loading,n=t.data;return n&&n.isAuthenticated?r.a.createElement($e.a,{to:f}):r.a.createElement("div",{className:"ng-login"},r.a.createElement("div",{className:"logo"}),a?"...":r.a.createElement(at.a,{clientId:"34917283366-b806koktimo2pod1cjas8kn2lcpn7bse.apps.googleusercontent.com",buttonText:"Login/Sign Up",onSuccess:function(t){var a=t.getBasicProfile(),n=t.getAuthResponse().id_token,r={id:a.getId(),name:a.getName(),imageUrl:a.getImageUrl(),email:a.getEmail(),idToken:n};e(N(r))},onFailure:function(e){console.log("onGoogle login fail",e)},cookiePolicy:"single_host_origin",className:"google-login"}))},rt=a(13),ct=a(124),lt=a(22),st=a.n(lt),it="start_time",ot="end_time",ut="class_start_time",mt="class_end_time",dt=(a(205),function(e){var t=e.className,a=void 0===t?"":t,n=e.pageLoader,c=void 0!==n&&n;return r.a.createElement("div",{className:"".concat(a," ").concat(c?"ng-page-loader":"loader")},r.a.createElement("div",{className:"idsEllipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))});a(206);var Et=function(){var e=Object(i.d)(),t=Object(i.e)((function(e){return e.User})),a=Object(n.useState)(st()().format("YYYY-MM-DD")),c=Object(rt.a)(a,2),l=c[0],s=c[1],o=Object(i.e)((function(e){return e.Class})).loading,u=t.data.user.rolesList,m=u.indexOf("classAdmin")>-1||u.indexOf("dumbeldore")>-1,d=Object(n.useState)([]),E=Object(rt.a)(d,2),f=E[0],p=E[1];return Object(n.useEffect)((function(){A()({method:L,url:"".concat("https://api.merakilearn.org","/apiDocs/pathways/courses"),headers:{accept:"application/json",Authorization:t.data.token}}).then((function(e){p(e.data.courses)}))}),[]),r.a.createElement("div",{className:"ng-create-class"},r.a.createElement("h2",{className:"title"},"Create A Class "),r.a.createElement("form",{className:"form",onSubmit:function(t){t&&t.preventDefault();var a,n=new FormData(t.target),r={category_id:3},c=Object(ct.a)(n.entries());try{for(c.s();!(a=c.n()).done;){var l=Object(rt.a)(a.value,2),s=l[0],i=l[1];i&&(r[s]=i)}}catch(o){c.e(o)}finally{c.f()}!function(t){var a=st()("".concat(t[it]," ").concat(t[ut])),n=st()("".concat(t[it]," ").concat(t[mt]));if(a.valueOf()>=n.valueOf())return le.a.error("Class end time must be later than class start time.",{position:le.a.POSITION.BOTTOM_RIGHT}),document.getElementById(mt).focus();delete t[mt],delete t[ut],t[it]="".concat(st()(a).format("YYYY-MM-DDTHH:mm:ss"),"Z"),t[ot]="".concat(st()(n).format("YYYY-MM-DDTHH:mm:ss"),"Z"),e(Q(t))}(r)}},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{className:"input-field",type:"text",name:"title",id:"title",required:!0,"aria-required":!0}),r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{name:"description",rows:"10",id:"description",className:"textarea-field",required:!0,"aria-required":!0}),m&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"facilitator_name"},"Facilitator Name"),r.a.createElement("input",{className:"input-field",type:"text",name:"facilitator_name",id:"facilitator_name",required:!0,"aria-required":!0}),r.a.createElement("label",{htmlFor:"facilitator_email"},"Facilitator Email"),r.a.createElement("input",{className:"input-field",type:"email",name:"facilitator_email",id:"facilitator_email",required:!0,"aria-required":!0,onChange:function(e){return null===e.target.value.match("[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}")?e.target.setCustomValidity("Email format incorrect, please provide correct email"):e.target.setCustomValidity("")}})),r.a.createElement("label",{htmlFor:"start_time"},"Date"),r.a.createElement("input",{className:"input-field input-field--short",type:"date",name:"start_time",value:l,onChange:function(e){s(e.target.value)},id:"start_time",min:st()().format("YYYY-MM-DD"),required:!0,"aria-required":!0}),r.a.createElement("label",{htmlFor:"class_start_time"},"Start Time"),r.a.createElement("input",{className:"input-field input-field--short",type:"time",name:"class_start_time",id:"class_start_time",required:!0,"aria-required":!0}),r.a.createElement("label",{htmlFor:"class_end_time"},"End Time"),r.a.createElement("input",{className:"input-field input-field--short",type:"time",name:"class_end_time",id:"class_end_time",required:!0,"aria-required":!0}),r.a.createElement("label",{htmlFor:"lang"},"Select Language"),r.a.createElement("select",{className:"create-class-select",name:"lang",id:"name",required:!0,"aria-required":!0},r.a.createElement("option",{value:"en"},"English"),r.a.createElement("option",{value:"hi",selected:!0},"Hindi"),r.a.createElement("option",{value:"te"},"Telugu"),r.a.createElement("option",{value:"ta"},"Tamil")),r.a.createElement("label",{htmlFor:"type"},"Select Class Type"),r.a.createElement("select",{className:"create-class-select",name:"type",id:"type",required:!0,"aria-required":!0},r.a.createElement("option",{value:"workshop"},"Workshop"),r.a.createElement("option",{value:"doubt_class",selected:!0},"Doubt Class")),r.a.createElement("label",{htmlFor:"course_id"},"Select Course"),r.a.createElement("select",{className:"create-class-select",name:"course_id",id:"course_id"},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Select a course from options below"),f.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)}))),r.a.createElement("button",{type:"submit",className:"submit",disabled:o},o?r.a.createElement(dt,null):"CREATE CLASS")))},ft=a(130),pt=(a(207),a(208),a(209),function(e){var t=Object(n.useRef)(null),a=e.onClose;return Object(n.useEffect)((function(){var e=function(e){document.getElementById("main-modal").contains(e.target)||a&&a()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[a]),r.a.createElement("div",{className:"modalBackground ".concat(e.backGroundClassName)},r.a.createElement("div",{id:"main-modal",className:"modal ".concat(e.className),ref:t},r.a.createElement("i",{className:"zmdi zmdi-close close ".concat(e.closeStyle),onClick:function(){a&&a()}}),e.children))});pt.defaultProps={className:"",backGroundClassName:"",closeStyle:""};var bt=pt;le.a.configure();var vt=function(e){var t=r.a.useState(!1),a=Object(rt.a)(t,2),n=a[0],c=a[1],l=r.a.useState(0),s=Object(rt.a)(l,2),o=s[0],u=s[1],m=Object(i.e)((function(e){return e.User})),d=e.item,E=e.index,f=e.handleDeleteData,p=d.start_time&&d.start_time.replace("Z",""),b=d.end_time&&d.end_time.replace("Z",""),v={hi:"Hindi",te:"Telugu",en:"English",ta:"Tamil",doubt_class:"Doubt Class",workshop:"Workshop"},h=function(e){u(e),c(!n)},x=m.data.user.rolesList,g=!1;x.map((function(e){g="classAdmin"===e||"dumbeldore"===e}));var O=function(e){return c(!n),A()({method:U,url:"".concat("https://api.merakilearn.org","/apiDocs/classes/").concat(e),headers:{accept:"application/json",Authorization:m.data.token}}).then((function(){le.a.success(" Deleted the class successfully",{position:le.a.POSITION.BOTTOM_RIGHT,autoClose:5e3}),f(e)}))};return r.a.createElement("div",{key:E,className:"class-card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-heading"},r.a.createElement("div",{className:"title"},d.title),r.a.createElement("div",{className:"class-type"},v[d.type])),r.a.createElement("div",{className:"class-detail"},r.a.createElement("p",null,"Facilitator Name : ",d.facilitator.name," "),r.a.createElement("p",null,"Language : ",v[d.lang]," "),r.a.createElement("p",null,"Date:",st()(p).format("DD-MM-YYYY")," "),r.a.createElement("p",null,"Time:",st()(p).format("hh:mm a")," -"," ",st()(b).format("hh:mm a"))),d.facilitator.email===m.data.user.email||g?r.a.createElement("button",{className:"delete-button",onClick:function(){h(d.id)}},"Delete"):null,n?r.a.createElement(bt,{onClose:function(){return h()},className:"confirmation-massage"},r.a.createElement("h2",null,"Are you sure you want to delete this class?"),r.a.createElement("div",{className:"wrap"},r.a.createElement("button",{onClick:function(){return O(o)},className:"delete-btn"},"Yes"),r.a.createElement("button",{onClick:function(){c(!1)},className:"cancel-btn"},"Cancel"))):null))};a(91);var ht=function(e){var t=Object(i.d)(),a=Object(i.e)((function(e){return e.Class.allClasses})),c=a.loading,l=a.data,s=void 0===l?[]:l,o=Object(n.useState)([]),u=Object(rt.a)(o,2),m=u[0],d=u[1],E=function(e){d((function(t){return[].concat(Object(ft.a)(t),[e])}))};return Object(n.useEffect)((function(){t(X())}),[t,e.isShow]),c?r.a.createElement(dt,{pageLoader:!0}):r.a.createElement("div",null,r.a.createElement("div",{className:"ng-upcoming-class"},s&&s.length>0?s.map((function(e,t){return m.includes(e.id)?null:r.a.createElement(vt,{item:e,key:t,handleDeleteData:E})})):r.a.createElement("div",{className:"message"},r.a.createElement("h2",null,"No Classes Today"))))};var xt=function(){var e=r.a.useState(!1),t=Object(rt.a)(e,2),a=t[0],n=t[1],c=function(){n(!a)};return r.a.createElement("div",null,r.a.createElement("button",{className:"create-class-button",onClick:c},"CREATE A CLASS"),r.a.createElement(ht,{isShow:a}),a?r.a.createElement(bt,{onClose:function(){return c()}},r.a.createElement(Et,null)):null)},gt=["#FFA4A4","#A4C5FF","#CBE0C4","#B7A4FF","#A4C5EE","#CBE0B4","#FFA4C4","#B7A4GG"];a(210);var Ot=function(e){var t=e.course,a=e.index,n=gt[a%7];return r.a.createElement("a",{className:"ng-course-card",href:"".concat(f,"/").concat(t.id,"?name=").concat(t.name),key:a},r.a.createElement("div",{className:"upper-section",style:{background:n}},r.a.createElement("img",{src:t.logo,alt:"",className:"logo"})),r.a.createElement("div",{className:"bottom-section"},r.a.createElement("div",{className:"title"},t.name)))},Nt=(a(211),function(e){var t=e.list,a=e.title;return t&&t.length?r.a.createElement("div",{className:"ng-course-list"},r.a.createElement("h2",null,a),r.a.createElement("div",{className:"cards"},t.map((function(e,t){return r.a.createElement(Ot,{key:"".concat(e.id,"-").concat(t),course:e,index:t})})))):""});a(212);var jt=function(e){return r.a.createElement("div",{className:"ng-search"},r.a.createElement("input",{type:"text",placeholder:"Search for a course",onChange:e.onChange,value:e.value}),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))};a(213);var Ct=function(){var e,t=Object(i.d)(),a=Object(i.e)((function(e){return e.Course})),c=a.loading,l=a.data,s=Object(n.useState)(""),o=Object(rt.a)(s,2),u=o[0],m=o[1];return Object(n.useEffect)((function(){t(ge())}),[t]),c?r.a.createElement(dt,{pageLoader:!0}):(l&&(e=l.allCourses.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())}))),r.a.createElement("div",null,r.a.createElement(jt,{onChange:function(e){e.preventDefault(),m(e.target.value)},value:u}),u.length>0?r.a.createElement("h1",{className:"ng-course"},r.a.createElement(Nt,{list:e,title:"Aap inn courses ko search kiya hai"})):r.a.createElement("h1",{className:"ng-course"},r.a.createElement(Nt,{list:Se()(l,"enrolledCourses"),title:"Aap in courses mein enrolled hai"}),r.a.createElement(Nt,{list:Se()(l,"allCourses"),title:"Aap yeh courses mein enroll kar sakte hai"}))))},_t=(a(214),window.localStorage.getItem("lastExerciseUrl")),kt=window.localStorage.getItem("exerciseName");var Tt=function(){return _t&&kt?r.a.createElement("div",{className:"stored-exercise"},"Continue where you left off..",r.a.createElement("span",null,r.a.createElement("a",{className:"exercise-url",href:_t},kt))):null};a(215);var St=function(){return r.a.createElement("div",{className:"ng-course-container"},r.a.createElement("h2",null,"Hello, There"),r.a.createElement(Tt,null),r.a.createElement(Ct,null))},wt=(a(216),function(e){var t=e.className,a=void 0===t?"":t,n=e.left,c=e.onClick;return r.a.createElement("div",{className:"ng-arrow ".concat(a," ").concat(n&&"ng-left"),onClick:c})}),yt=function(){var e=Object(i.d)(),t=Object(i.e)((function(e){return e.Course})),a=t.courseContent.data,n=t.selectedExercise,c=Se()(n,"index")===Se()(a,"exerciseList.length")-1,l=Se()(n,"parentExercise.childExercises.length")||Se()(n,"exercise.childExercises.length"),s=(0===n.subExerciseIndex||n.subExerciseIndex)&&n.subExerciseIndex===Se()(n,"parentExercise.childExercises.length")-1;if(c&&!l||c&&l&&s)return r.a.createElement("div",null);return r.a.createElement(wt,{onClick:function(){var t=n.exercise,r=n.index,c=n.subExerciseIndex;if(0!==c&&!c||s)if(!c&&t.childExercises){var l=Se()(a,"exerciseList[".concat(r,"]")),i=l.childExercises[0];e(ke({exercise:i,parentExercise:l,index:r,subExerciseIndex:0}))}else{var o=r+1,u=Se()(a,"exerciseList[".concat(o,"]"));e(ke({exercise:u,index:o}))}else{var m=Se()(a,"exerciseList[".concat(r,"]")),d=c+1,E=m.childExercises[d];e(ke({exercise:E,parentExercise:m,index:r,subExerciseIndex:d}))}}})},It=a(125),At=a.n(It),Lt=a(126),Dt=a.n(Lt),Ut=a(78),Rt=(a(350),Dt()({isValidNode:function(e){return"script"!==e.type},processingInstructions:[]})),Ft=function(e){var t=e.data;return"markdown"===t.type?r.a.createElement(At.a,{source:t.value,escapeHtml:!1,astPlugins:[Rt]}):"python"===t.type?r.a.createElement("code",{className:"language-python code-block"}," ",r.a.createElement("br",null),Se()(t,"value.code")," ",r.a.createElement("br",null)):"bash"===t.type?r.a.createElement("code",{className:"language-bash code-block"}," ",Se()(t,"value.code")," "):"image"===t.type?r.a.createElement("img",{className:"image",src:Se()(t,"value.url"),alt:"content"}):"video"===t.type||"youtube"===t.type?r.a.createElement(Ut.a,{className:"youtube-video",videoId:t.value}):""};var Gt=function(e){var t=e.content,a=void 0===t?[]:t;return a?r.a.createElement("div",{className:"ng-exercise-content"},a.map((function(e,t){return r.a.createElement(Ft,{data:e,key:t})}))):""},Ht=function(e){return r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"github-link"},"Edit on Github")},Yt=function(e){var t=e.selectedExercise;return r.a.createElement("div",null,r.a.createElement("h2",null,Se()(t,"exercise.name")),r.a.createElement(Gt,{content:Se()(t,"exercise.content")}),r.a.createElement(Ht,{link:"".concat(Se()(t,"exercise.githubLink"))}))},qt=(a(351),function(e){var t=e.haveChildExercises,a=e.showChildExercise,n=e.onClick;return t?r.a.createElement("div",{className:"ng-collapse-arrow",onClick:n},a?r.a.createElement("span",null,"\u2228"):r.a.createElement("span",null,"\u2227")):""}),Bt=(a(352),function(e){var t=e.selected;return r.a.createElement("div",{className:"logo"},r.a.createElement("svg",{className:t?"selected":"",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},r.a.createElement("g",null,r.a.createElement("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"}))))}),Mt=function(e){var t=e.selected;return r.a.createElement("div",{className:"logo child-exercise-logo"},r.a.createElement("svg",{className:t?"selected":"",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},r.a.createElement("g",null,r.a.createElement("path",{d:"M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z"}))))},Pt=function(e){var t=e.isChildExercise,a=e.selected,n=e.exercise;return r.a.createElement("div",{className:"content ".concat(t&&"child-exercise"),onClick:e.onClick},t?r.a.createElement(Mt,{selected:a}):r.a.createElement(Bt,{selected:a}),r.a.createElement("div",{className:"title"},n.name))};var zt=function(e){var t=e.exercise,a=e.selectedExercise,c=e.index,l=e.onClick,s=t.childExercises,i=a.index===c,o=i&&s,u=Object(n.useState)(o),m=Object(rt.a)(u,2),d=m[0],E=m[1];Object(n.useEffect)((function(){E(o)}),[o]);var f=function(e,t){l&&l({index:e,subExerciseIndex:t})},p=i&&!s?"ng-exercise-selected":"";return r.a.createElement("div",{className:"ng-exercise  ".concat(p," ").concat(d&&"ng-exercise-child"),key:c},r.a.createElement(Pt,{selected:i,exercise:t,onClick:function(){f(c),s&&E(!d)}}),r.a.createElement(qt,{haveChildExercises:s,onClick:function(){return E(!d)},showChildExercise:d}),d&&t.childExercises.map((function(e,t){return r.a.createElement(Pt,{isChildExercise:s,exercise:e,selected:t===a.subExerciseIndex,onClick:function(){return f(c,t)},key:t})})))};a(353);var Vt=function(e){var t=e.list,a=void 0===t?[]:t,c=Object(i.d)(),l=Object(i.e)((function(e){return e.Course})),s=l.courseContent.data,o=l.selectedExercise,u=Object(n.useCallback)((function(e){var t=e.index,a=e.subExerciseIndex,n=Se()(s,"exerciseList[".concat(t,"]"));if(0===a||a){var r=n.childExercises[a];c(ke({exercise:r,parentExercise:n,index:t,subExerciseIndex:a}))}else{c(ke({exercise:n,index:t}))}}),[s,c]);return r.a.createElement("div",{className:"ng-exercise-list"},a.map((function(e,t){return r.a.createElement(zt,{exercise:e,index:t,selectedExercise:o,onClick:u,key:t})})))},Jt=function(){var e=Object(i.d)(),t=Object(i.e)((function(e){return e.Course})),a=t.courseContent.data,n=t.selectedExercise,c=0===n.subExerciseIndex||n.subExerciseIndex,l=0===Se()(n,"index"),s=0===Se()(n,"subExerciseIndex");if(l&&!c)return r.a.createElement("div",null);return r.a.createElement(wt,{left:!0,onClick:function(){var t=n.parentExercise,r=n.index,c=n.subExerciseIndex;if(s)e(ke({exercise:t,index:r}));else if(c){var l=Se()(a,"exerciseList[".concat(r,"]")),i=c-1,o=l.childExercises[i];e(ke({exercise:o,parentExercise:l,index:r,subExerciseIndex:i}))}else{var u=r-1,m=Se()(a,"exerciseList[".concat(u,"]")),d={},E=m.childExercises||[];if(E.length){var f=E.length-1;d={exercise:E[f],parentExercise:m,index:u,subExerciseIndex:f}}else d={exercise:m,index:u};e(ke(d))}}})};a(354);var Zt=function(e){var t=Object($e.g)(),a=Object($e.h)(),c=a.url,l=a.path,s=Object(i.d)(),o=Object(i.e)((function(e){return e.Course})),u=o.courseContent,m=u.loading,d=u.data,E=o.selectedExercise;Object(n.useEffect)((function(){var e=Se()(E,"exercise.id"),t=window.location.href;window.localStorage.setItem("lastExerciseUrl","".concat(t,"/exercise/").concat(e));var a=Se()(E,"exercise.name");window.localStorage.setItem("exerciseName",a)}),[E]);var f=Se()(e,"location.search"),p=new URLSearchParams(f).get("name"),v=Se()(e,"match.params.courseId");return Object(n.useEffect)((function(){s(je({courseId:v}))}),[s,v]),Object(n.useEffect)((function(){var e=function(){var e;return window.location.href.includes("exercise")&&(e=window.location.href.split("/").pop()),e}(),t=Se()(d,"exerciseList[0]"),a=t,n=0;if(t){if(e){var r=d.exerciseList.findIndex((function(t){return t.id===e}));-1!==r&&(a=d.exerciseList[r],n=r)}s(ke({exercise:a,index:n}))}}),[s,d]),Object(n.useEffect)((function(){var e=Se()(E,"exercise.id");e&&t.push("".concat(c,"/exercise/").concat(e))}),[E,t,c]),m?r.a.createElement(dt,{pageLoader:!0}):r.a.createElement("div",{className:"ng-course-content"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,p),r.a.createElement($e.d,null,r.a.createElement($e.b,{path:"".concat(l).concat(b)},r.a.createElement(Yt,{data:d,selectedExercise:E}))),r.a.createElement("div",{className:"arrow-row"},r.a.createElement(Jt,null),r.a.createElement(yt,null))),r.a.createElement(Vt,{list:Se()(d,"exerciseList")}))},Wt=a(53);a(355);var Xt=function(){var e=Object(i.e)((function(e){return e.User})),t=Object(n.useState)([]),a=Object(rt.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)({email:"",roomId:""}),o=Object(rt.a)(s,2),u=o[0],m=o[1],d={en:"English",hi:"Hindi"};Object(n.useEffect)((function(){A()({method:L,url:"".concat("https://api.merakilearn.org","/chat/rooms"),headers:{accept:"application/json",Authorization:e.data.token}}).then((function(e){l(e.data)}))}),[]);var E=function(e){m(Object(y.a)(Object(y.a)({},u),{},Object(Wt.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email",className:"label"},"Email"),r.a.createElement("input",{type:"text",value:u.email,onChange:E,name:"email",id:"email",className:"inputField",required:!0,"aria-required":!0}),r.a.createElement("label",{htmlFor:"room",className:"label"},"Select Class"),r.a.createElement("select",{className:"inputField",onChange:E,value:u.roomId,id:"item.room_id",name:"roomId"},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Select a Class from options below"),c.map((function(e,t){var a=d[e.room_alias.split("meraki")[1].substr(0,2)]+" Class - "+e.room_alias.split(":navgurukul.org")[0].split("meraki")[1].split("class")[1];return r.a.createElement("option",{key:t,value:e.room_id},a)}))),r.a.createElement("button",{type:"submit",className:"submitData",onClick:function(){return A()({method:D,url:"".concat("https://api.merakilearn.org","/chat/addUser/").concat(u.roomId,"?email=").concat(u.email),headers:{accept:"application/json",Authorization:e.data.token}}).then((function(){!function(){var e=c.filter((function(e){return e.room_id===u.roomId})),t=d[e[0].room_alias.split("meraki")[1].substr(0,2)]+" Class - "+e[0].room_alias.split(":navgurukul.org")[0].split("meraki")[1].split("class")[1];le.a.success("Added ".concat(u.email," to ").concat(t," successfully!"),{position:le.a.POSITION.BOTTOM_RIGHT,autoClose:5e3})}()}))}},"Add"))},$t=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement($e.b,{exact:!0,path:m,component:St}),r.a.createElement($e.b,{exact:!0,path:f,component:St}),r.a.createElement($e.b,{path:p,component:Zt}),r.a.createElement($e.b,{exact:!0,path:d,component:nt}),r.a.createElement(et,{exact:!0,path:E,component:xt}),r.a.createElement(et,{exact:!0,path:v,component:Xt}))},Kt=(a(356),function(){var e=Object(i.d)();return r.a.createElement(r.a.Fragment,null,ea?r.a.createElement("a",{className:"link",href:v},"User"):null,r.a.createElement("a",{className:"link",href:f},"Courses"),r.a.createElement("a",{className:"link",href:E},"Classes"),r.a.createElement("div",{className:"logout",onClick:function(){return e(_())}},"Logout"))}),Qt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"link",href:f},"Courses"),r.a.createElement("a",{className:"login",href:d},"Login/Signup"))},ea=!1;var ta=function(){var e=Object(i.e)((function(e){return e.User})).data,t=e&&e.isAuthenticated,a=e&&e.user.rolesList;return null!=a&&a.map((function(e){ea="classAdmin"===e||"dumbeldore"===e})),r.a.createElement("div",{className:"ng-header"},r.a.createElement("a",{href:"/"},r.a.createElement("div",{className:"logo"})),r.a.createElement("div",{className:"option"},t?r.a.createElement(Kt,null):r.a.createElement(Qt,null)))};a(357);var aa=function(){return r.a.createElement("div",null,r.a.createElement(ta,null),r.a.createElement($t,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:Xe()},r.a.createElement(s.a,null,r.a.createElement(aa,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},91:function(e,t,a){}},[[134,1,2]]]);
//# sourceMappingURL=main.ae939000.chunk.js.map